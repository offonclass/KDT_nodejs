<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <h3>axios get으로 정보 받기</h3>
    <form name="register-form">
        <label for="username">이름</label>
        <input type="text" id="username" name="username" required/>
        <br />
        <fieldset>
            <legend>성별</legend>
            <input type="radio" name="gender" id="male" value="남자" required/>
            <label for="male">남자</label>
            <input type="radio" name="gender" id="female" value="여자" />
            <label for="female">여자</label>
        </fieldset>
        <br>
        <br>
        <fieldset>
            <legend>생년월일</legend>
            <select name="year" id="year">
                <% for(let i=1970; i <=2024; i++) { %>
                    <option value="<%= i%>">
                        <%= i%>
                    </option>

                    <%}%>
            </select>년
            <select name="month" id="month">
                <% for(let i=1; i <=12; i++) { %>
                    <option value="<%= i%>">
                        <%= i%>
                    </option>

                    <%}%>
            </select>월
            <select name="day" id="day">
                <% for(let i=1; i <=31; i++) { %>
                    <option value="<%= i%>">
                        <%= i%>
                    </option>

                    <%}%>
            </select>일
        </fieldset>
        <br>
        <br>
        <fieldset>
            <legend>관심사</legend>
            <input type="checkbox" name="interest" value="여행" id="여행"><label for="여행">여행</label>
            <input type="checkbox" name="interest" value="패션" id="패션"><label for="패션">패션</label>
            <input type="checkbox" name="interest" value="음식" id="음식"><label for="음식">음식</label>
        </fieldset>
        <br>
        <br>
        <button type="button" onclick="axiosGet()">axios get으로 회원가입</button>



    </form>


    <script>
        function axiosGet() {
            const form = document.forms['register-form']
            console.log(form.interest.value); //문제있다.. 배열로 value를 저장해야되는데..
            const data = {
                username: form.username.value,
                gender: form.gender.value,
                birthYear: form.year.value,
                birthMonth: form.month.value,
                birthDay: form.day.value,
                interest: form.interest.value, //문제다...
            }
            console.log(data)
            axios({
                method: 'get',
                url: '/axios',
                params: data
            }).then((res) => {
                console.log('res : ',res);
                console.log('data : ',res.data);
            })
        }


    </script>
</body>

</html>